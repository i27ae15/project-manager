<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create Project</title>

    <!-- Boostrap -->

    <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous">
    </script> -->

    <!-- local bootstrap -->
    {% load static %}

    <link rel="stylesheet" href="{% static '/assets/bootstrap-5.1.1-dist/css/bootstrap.min.css' %}">
    <script src="{% static '/assets/bootstrap-5.1.1-dist/js/bootstrap.bundle.min.js' %}" defer></script>


    {% block local_files %}
    <script src="{% static '/assets/js/create-project.js' %}" defer></script>
    {% endblock %}

    <!-- Jquery -->
    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script> -->

    <script src="{% static '/assets/jquery/jquery.min.js' %}"></script>


</head>

<style>
    body {
        background: #eee;
    }

    .card {
        box-shadow: 0 20px 27px 0 rgb(0 0 0 / 5%);
    }

    .card {
        position: relative;
        display: flex;
        flex-direction: column;
        min-width: 0;
        word-wrap: break-word;
        background-color: #fff;
        background-clip: border-box;
        border: 0 solid rgba(0, 0, 0, .125);
        border-radius: 1rem;
    }

    .card-body {
        -webkit-box-flex: 1;
        -ms-flex: 1 1 auto;
        flex: 1 1 auto;
        padding: 1.5rem 1.5rem;
    }
</style>

<body>

    <form action="" method="post" id="create-project-form">

        {% csrf_token %}

        <div class="container">
            <h1 class="h3 mb-5">Create Project</h1>
            <div class="row">
                <!-- Left -->
                <div class="col-lg-9">
                    <div class="accordion" id="accordionPayment">
                        <!-- Settings -->
                        <div class="accordion-item mb-3">
                            <h2 class="h5 px-4 py-3 accordion-header d-flex justify-content-between align-items-center">
                                <div class="form-check w-100 collapsed" data-bs-toggle="collapse"
                                    data-bs-target="#collapseCC" aria-expanded="false">
                                    <label class="form-check-label pt-1" for="payment1">
                                        Settings
                                    </label>
                                    <span>

                                    </span>
                                </div>
                            </h2>
                            <div id="collapseCC" class="accordion-collapse collapse show"
                                data-bs-parent="#accordionPayment">
                                <div class="accordion-body">
                                    <div class="mb-3">
                                        <label class="form-label">Project name</label>
                                        <input type="text" class="form-control" placeholder="" id="project-name" name="project-name"  required>
                                    </div>
                                    <div class="mb-3">
                                        <label class="form-label">Resume</label>
                                        <input type="text" class="form-control" placeholder="" id="project-resume" name="project-resume" required>
                                    </div>
                                    <div class="row">
                                        <div class="col-lg-6">
                                            <div class="mb-3">
                                                <label class="form-label">Deadline</label>
                                                <input type="date" class="form-control" id="project-deadline" name="project-deadline" required>
                                            </div>
                                        </div>

                                        <div class="col-lg-6">
                                            <div class="mb-3">
                                                <label for="project-manager" class="form-label">Project Manager</label>
                                                <select class="form-control" id="project-manager" itemid="project-manager" name="project-manager" required>
                                                    {% for manager in managers %}

                                                    <option value="{{manager.id}}">
                                                        {{manager.first_name}}
                                                        {{manager.last_name}}-{{manager.username}}
                                                    </option>

                                                    {% endfor %}
                                                </select>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Objectives -->
                        <div class="accordion-item mb-3">
                            <h2 class="h5 px-4 py-3 accordion-header d-flex justify-content-between align-items-center">
                                <div class="form-check w-100 collapsed" data-bs-toggle="collapse"
                                    data-bs-target="#collapseObejectives" aria-expanded="false">
                                    <label class="form-check-label pt-1" for="objectives">
                                        Objectives
                                    </label>
                                </div>
                                <span>
                                    <svg width="103" height="25" xmlns="http://www.w3.org/2000/svg">
                                    </svg>
                                </span>
                            </h2>
                            <div id="collapseObejectives" class="accordion-collapse collapse"
                                data-bs-parent="#accordionPayment">
                                <div class="accordion-body">
                                    <div id="objectives">

                                        <div id="objective-0" name="0" class="objectives" >

                                            <div class="row">
                                                <div class="px-2 col-lg-8 mb-3">
                                                    <label class="form-label">Objective - The project must have at least one main objective</label>
                                                    <input type="text" class="form-control" id="objective-0-name" name="objective-0-name" required>
                                                </div>
            
                                                <div class="px-2 col-lg-4 mb-3">
                                                    <label class="form-label">Deadline</label>
                                                    <input type="date" class="form-control" id="objective-0-deadline" name="objective-0-deadline" required>
                                                </div>
                                            </div>

                                            <div id="objective-0-sub-objectives">

                                            </div>

                                            <div class="row">
                                                <div class="px-2 col-lg-5 mb-3">
                                                    <button type="button" class="btn btn-warning w-100 mt-2" onclick="createSubObjective(0)">
                                                        Create new sub-objective
                                                    </button>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
           
                                    <div class="row" id="objectives-buttons">
                                        <div class="px-2 col-lg-3 mb-3">
                                            <button type="button" class="btn btn-success w-100 mt-2" onclick="createObjective()">
                                                Create new objective
                                            </button>
                                        </div>  
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Developers -->
                        <div class="accordion-item mb-3 border">
                            <h2 class="h5 px-4 py-3 accordion-header d-flex justify-content-between align-items-center">
                                <div class="form-check w-100 collapsed" data-bs-toggle="collapse"
                                    data-bs-target="#collapseDevelopers" aria-expanded="false">
                                    <label class="form-check-label pt-1" for="developers">
                                        Developers
                                    </label>
                                </div>
                                <span>
                                </span>
                            </h2>
                            <div id="collapseDevelopers" class="accordion-collapse collapse"
                                data-bs-parent="#accordionPayment">
                                <div class="accordion-body">
                                    <div id="add-developers">
                                        <div id="developer-0" name="0" class="developers">
                                            <div class="row">
    
                                                <div class="col-lg-5">
                                                    <div class="mb-3">
                                                        <label for="developer" class="form-label">Developer</label>
                                                        <select class="form-control" id="select-developer-0" name="developer-0-id">
                                                            {% for user in users %}
    
                                                            <option value="{{user.id}}">
                                                                {{user.first_name}} {{user.last_name}} - {{user.username}} -
                                                                {{user.role}}
                                                            </option>
    
                                                            {% endfor %}
                                                        </select>
                                                    </div>
                                                </div>
    
                                                <div class="col-lg-5">
                                                    <div class="mb-3">
                                                        <label for="developer" class="form-label">Role - Leave it blank to keep the current role</label>
                                                        <select class="form-control" id="role-developer-0" name="role-developer-0">
    
                                                            <option></option>
                                                            <option value="Full stack">Fullstack</option>
                                                            <option value="Frontend">Frontend</option>
                                                            <option value="Backend">Backend</option>
    
                                                        </select>
                                                    </div>
                                                </div>
    
                                                <div class="col-lg-2">
                                                    <div class="mb-3">
                                                        <label for="delete-developer" class="form-label"> Delete <label>
                                                                <button class="btn btn-danger w-100 mt-2" type="button" onclick="deleteDeveloper(0)">Delete
                                                                </button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div> 
                                    </div>
                                    
                                    <button class="btn btn-primary w-100 mt-2" type="button"
                                        onclick="addDeveloper()">Add developer</button>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Right -->
                <div class="col-lg-3">
                    <div class="card position-sticky top-0">
                        <div class="p-3 bg-light bg-opacity-10">
                            <h6 class="card-title mb-3">Summary</h6>
                            <div class="d-flex justify-content-between mb-1 small">
                                <span>Manager:</span> <span id="manager-place"></span>
                            </div>
                            <div class="d-flex justify-content-between mb-1 small">
                                <span>Developers:</span> <span id="total-developers"></span>
                            </div>
                            <hr>
                            <div class="d-flex justify-content-between mb-4 small">
                              
                            </div>
                            <div class="form-check mb-1 small">
                             
                            </div>
                            <div class="form-check mb-3 small">
                                
                            </div>
                            <button type="submit" class="btn btn-primary w-100 mt-2">Create project</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </form>

</body>




</html>